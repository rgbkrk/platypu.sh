<div id="root">
	<img src="./platash-01.svg" />
</div>

<script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

<script type="text/babel">
    var el = document.getElementById("root");

    const images = [
      "./platash-01.svg",
      "./platash-02.svg"
    ];

    class AnimatedPlatypus extends React.Component {
      constructor(props) {
        super(props);
        this.state = {
          index: 0,
          width: 500,
          speed: 1000,
        }
      }

      updateImage = () => {
          this.setState(state => ({
            index: (state.index + 1) % images.length,
					}))
        };

      componentDidMount() {
        this.intervalId = setInterval(this.updateImage, this.state.speed);
      }

      handleSizeChange = (ev) => {
        this.setState({
          width: ev.target.value
        })
      }

      handleSpeedChange = (ev) => {
        const speed = parseInt(ev.target.value);

        this.setState(state => {
          return { speed };
        },
        () => {
          clearInterval(this.intervalId);
          this.intervalId = setInterval(this.updateImage, speed);
        })
      }

      render() {
        return (<div>
          <input defaultValue={this.state.width} min="50" max="1000" step="25" type="range" onChange={this.handleSizeChange} style={{display: 'block'}} />
          <input defaultValue={this.state.speed} min="50" max="2000" step="25" type="range" onChange={this.handleSpeedChange} style={{display: 'block'}} />
          <img src={images[this.state.index]} width={this.state.width} />
        </div>);
      }

    }


    ReactDOM.render(<AnimatedPlatypus />, el);

</script>
